<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cómo usar esta plantilla • rostemplate</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- Google Fonts --><link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Roboto:wght@100;300;400;500;700&amp;display=swap" rel="stylesheet">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- Hugo Universal --><link href="../style.violet.css" rel="stylesheet">
<!-- rOpenSpain --><link href="../ropenspain.css" rel="stylesheet">
<meta property="og:title" content="Cómo usar esta plantilla">
<meta property="og:description" content="rostemplate">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed btn-template-main" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
      <span class="sr-only">Toggle navigation</span>
      <i class="fa fa-align-justify"></i>
      </button>
      <span class="navbar-brand" id="ROS-navbar-brand">
      <a class="navbar-link ROS-black" href="../index.html"><img src="../logo.png" alt="rostemplate-logo" id="ROS-navbar-logo">rostemplate</a> <span class="version label label-default hidden-xs" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.3</span>
      </span>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rostemplate.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropenspain/rostemplate/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>  <!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->


      

      </header><script src="rostemplate_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Cómo usar esta plantilla</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropenspain/rostemplate/blob/master/vignettes/rostemplate.Rmd"><code>vignettes/rostemplate.Rmd</code></a></small>
      <div class="hidden name"><code>rostemplate.Rmd</code></div>

    </div>

    
    
<div id="introducción" class="section level1">
<h1 class="hasAnchor">
<a href="#introducci%C3%B3n" class="anchor"></a>Introducción</h1>
<p>Este paquete proporciona una plantilla de <code>pkgdown</code> adaptada a la empleada por la comunidad <a href="https://ropenspain.es/">rOpenSpain</a>, que a su vez es una adaptación de la plantilla <a href="https://bootstrapious.com/p/universal-business-e-commerce-template">Universal</a> creada por <a href="https://bootstrapious.com/p/universal-business-e-commerce-template">Bootstrapius</a> con la variación de color <strong>violet</strong>.</p>
<div id="limitaciones" class="section level2">
<h2 class="hasAnchor">
<a href="#limitaciones" class="anchor"></a>Limitaciones</h2>
<p>El diseño original de las plantillas que componen <code>pkgdown</code> es bastante rígido, en el sentido de que ligeras modificaciones (como el tipo de <em>navbar</em> o la localización del <em>footer</em>) pueden provocar que el renderizado final no sea óptimo. Para solucionarlo se han empleado algunos <em>hacks</em> en el fichero <code>css</code> y pequeños fragmentos en <code>javascript</code>.</p>
<p>Otra limitación es la diferencia de versiones Bootstrap, ya que <code>pkgdown</code> emplea la versión 3.4.1 mientras que Universal emplea la 3.3.7.</p>
</div>
</div>
<div id="configuración-previa" class="section level1">
<h1 class="hasAnchor">
<a href="#configuraci%C3%B3n-previa" class="anchor"></a>Configuración previa</h1>
<p>En la raíz del proyecto ha de existir un archivo <code>_pkgdown.yaml</code> con al menos las siguientes líneas:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="at">  </span><span class="fu">package</span><span class="kw">:</span><span class="at"> rostemplate</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">  # No pongas la siguiente línea!</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="at">  </span><span class="fu">default_assets</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<p>Puedes encontrar información sobre cómo configurar otras opciones en <code>_pkgdown.yaml</code> <a href="https://pkgdown.r-lib.org/articles/pkgdown.html">aquí</a>.</p>
<p>Adicionalmente, es necesario añadir al archivo <code>.Rbuildignore</code> las siguientes líneas:</p>
<pre><code>^\.github$
^docs$
^_pkgdown\.yml$
</code></pre>
</div>
<div id="uso-de-la-plantilla" class="section level1">
<h1 class="hasAnchor">
<a href="#uso-de-la-plantilla" class="anchor"></a>Uso de la plantilla</h1>
<p>Esta sección detalla diferentes opciones para generar un sitio estático para el paquete deseado con el formato definido por esta plantilla. El resultado de este paso es la generación de un sitio estático compuesto de los archivos <code>html</code>, <code>css</code>, etc. basados en el paquete de R para el que se está generando el sitio.</p>
<div id="con-github-actions---ci" class="section level2">
<h2 class="hasAnchor">
<a href="#con-github-actions---ci" class="anchor"></a>Con GitHub actions - CI</h2>
<p>GitHub Actions permite automatizar procesos cuando se activa un <em>trigger</em>. En este caso se han preparado dos acciones que actualizan el sitio estático cada vez que se añade un <em>commit</em> al repositorio.</p>
<p>Los flujos de trabajo consisten en archivos con extensión <code>.yaml</code>. La acción <a href="https://github.com/ropenspain/rostemplate/blob/main/inst/yaml/rostemplate-docs.yaml">rostemplate-docs.yaml</a> crea el sitio estático en la carpeta <code>./docs</code> mientras que <a href="https://github.com/ropenspain/rostemplate/blob/main/inst/yaml/rostemplate-gh-pages.yaml">rostemplate-gh-pages.yaml</a> crea el sitio estático en el branch <code>gh-pages</code>.</p>
<p>Para configurar esta opción, es necesario disponer en el repositorio de una carpeta en la ruta <code>.github/workflows</code> y copiar la acción deseada en dicha carpeta.</p>
<div id="alternativa-usando-las-funciones-de-rostemplate" class="section level3">
<h3 class="hasAnchor">
<a href="#alternativa-usando-las-funciones-de-rostemplate" class="anchor"></a>Alternativa usando las funciones de <code>rostemplate</code>
</h3>
<p>Aunque el uso del paquete <code>rostemplate</code> en si no es necesario con GitHub actions, se han desarrollado dos funciones que automatizan esta configuración de manera automática. Estas funciones simplemente crean el directorio <code>.github/workflows</code> si no existiera previamente y copian los archivos solicitados en la ruta correspondiente. Adicionalmente, crean los archivos <code>.Rbuildignore</code> y <code>.github/.gitignore</code>, que ignoran ciertos archivos cuando se compila el paquete:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Deploy to gh-branch</span>
<span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ropenspain/rostemplate"</span>,
                          build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  <span class="fu">rostemplate</span><span class="fu">::</span><span class="fu"><a href="../reference/ros_gh_actions_branch.html">ros_gh_actions_branch</a></span><span class="op">(</span><span class="op">)</span>
  
<span class="op">}</span>

<span class="co"># Deploy to docs folder</span>
<span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ropenspain/rostemplate"</span>,
                          build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  <span class="fu">rostemplate</span><span class="fu">::</span><span class="fu"><a href="../reference/ros_gh_actions_docs_folder.html">ros_gh_actions_docs_folder</a></span><span class="op">(</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p>Es posible cambiar el evento que desencadena la actualización del sitio:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1"></a></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># Actualiza en cada commit - por defecto</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="at">      </span><span class="kw">-</span><span class="at"> main</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="at">      </span><span class="kw">-</span><span class="at"> master</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="at">      </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co"># Actualiza cuando se modifica un archivo específico: _pkgdown.yaml</span></span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="at">    </span><span class="fu">paths</span><span class="kw">:</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">'_pkgdown.yaml'</span></span></code></pre></div>
<p>Más información sobre cómo adaptar los <em>triggers</em> de la acción <a href="https://docs.github.com/es/free-pro-team@latest/actions/reference/events-that-trigger-workflows">aquí</a>.</p>
</div>
</div>
<div id="rstudio---manual" class="section level2">
<h2 class="hasAnchor">
<a href="#rstudio---manual" class="anchor"></a>RStudio - manual</h2>
<p>El sitio estático se puede generar igualmente desde una sesión local en RStudio. Para ello, es necesario instalar este paquete usando <code>remotes</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ropenspain/rostemplate"</span>,
                          build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  <span class="fu">rostemplate</span><span class="fu">::</span><span class="fu"><a href="../reference/ros_build.html">ros_build</a></span><span class="op">(</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p>La función <code><a href="../reference/ros_build.html">rostemplate::ros_build()</a></code> no es más que un alias de <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site</a></code>, aportando únicamente un control sobre la configuración del archivo <code>_pkgdown.yml</code></p>
<p>Una vez generado el sitio, es necesario actualizar el repositorio remoto en GitHub mediante un <em>commit</em>.</p>
</div>
</div>
<div id="github-pages" class="section level1">
<h1 class="hasAnchor">
<a href="#github-pages" class="anchor"></a>GitHub Pages</h1>
<p>Una vez generado el sitio estático y subido al repositorio en GitHub, el último paso es activar el sitio web a través de los <em>Settings</em> de nuestro repositorio (<em>Setting&gt;GitHub Pages</em>), seleccionando el origen deseado (<code>gh-pages</code>, <code>main/docs</code>, etc.).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>




      <footer id="footer"><div class="container">
		<div class="col-md-3 col-sm-6 col-md-offset-1">
			<h4 data-toc-skip>About rostemplate</h4>
			Developed by <a href="https://github.com/dieghernan/">Diego Hernangómez</a>, part of the <span class="ROS-light">rOpenSpain</span> project.
			<hr class="hidden-md hidden-lg hidden-sm">
</div>
		<div class="col-md-3 col-sm-6 col-md-offset-4">
			<h4 data-toc-skip>About <img src="../ROS-logo.png" alt="ROpenSpain Logo" height="24"><span class="ROS-light"> rOpenSpain</span>
</h4>
			<a href="https://ropenspain.es/"><span class="ROS-light">rOpenSpain</span></a> is a community of R enthusiasts whose ultimate goal is to create high-quality R packages for data mining public spanish open sources.
			<hr class="hidden-md hidden-lg hidden-sm">
</div>
	</div>
</footer><div id="copyright">
	<div class="container">
		<div class="col-md-12">
			<p class="pull-left">
			Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.
			</p>
			<p class="pull-right">
			Template by <a href="https://bootstrapious.com/snippets">Bootstrapious </a>.
			Ported to pkgdown by <a href="https://github.com/dieghernan/">dieghernan</a>.
			</p>
		</div>
	</div>
</div>

<!-- ropenspain -->
<script src="../ropenspain.js"></script>
</div>
   
  


  </body>
</html>
